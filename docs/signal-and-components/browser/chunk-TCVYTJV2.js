import{Ba as E,Ca as F,Da as T,Fa as z,Ga as f,Ha as v,Ia as _,Ja as l,Ka as c,La as V,Ma as g,N as M,Na as d,Oa as s,Q as h,Sa as y,T as m,Ta as w,U as p,Ua as I,Wa as x,X as D,hb as C,pa as u,qa as b,ua as S}from"./chunk-PED7P55B.js";var P=(()=>{let t=class t{constructor(){this.event=S({horizontalIndex:0,verticalIndex:0,date:new Date,type:"EMPTY"})}changeEvent(e,n){this.event.update(i=>{let r=i;return r.horizontalIndex=e,r.verticalIndex=n,r})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();function A(o,t){if(o&1){let a=g();l(0,"div",2),d("mousedown",function(){m(a);let n=s(2);return p(n.dragStarted())}),c()}}function H(o,t){if(o&1){let a=g();l(0,"div",0),d("mouseup",function(){let i=m(a).$implicit,r=s();return p(r.onMouseUp(i))}),E(1,A,1,0,"div",1),c()}if(o&2){let a=t.$implicit,e=s();u(),z(1,e.service.event().horizontalIndex===e.horizontalIndex&&e.service.event().verticalIndex===a&&!e.isDrag?1:-1)}}var O=(()=>{let t=class t{constructor(e){this.service=e,this.drag=new M,this.cells=Array.from(Array(24).keys())}onMouseUp(e){console.log(this.isDrag),console.log("v podmienke"),this.isDrag&&this.service.changeEvent(this.horizontalIndex,e),this.isDrag=!1,this.drag.emit(!1)}dragStarted(){this.drag.emit(!0),this.isDrag=!0,console.log("tutok")}};t.\u0275fac=function(n){return new(n||t)(b(P))},t.\u0275cmp=h({type:t,selectors:[["app-column"]],inputs:{horizontalIndex:"horizontalIndex",isDrag:"isDrag"},outputs:{drag:"drag"},standalone:!0,features:[x],decls:2,vars:0,consts:[[1,"cell",3,"mouseup"],["class","event"],[1,"event",3,"mousedown"],["class","cell"]],template:function(n,i){n&1&&v(0,H,2,1,"div",3,f),n&2&&_(i.cells)},dependencies:[C],styles:[".cell[_ngcontent-%COMP%]{width:50px;height:20px;border:1px solid #2a2a2a}.event[_ngcontent-%COMP%]{width:30px;height:15px;background:#e74c3c;border-radius:5px;cursor:pointer}"]});let o=t;return o})();var j=["calendar"],$=["movable"];function q(o,t){if(o&1){let a=g();l(0,"app-column",4),d("drag",function(n){m(a);let i=s();return p(i.onDragChange(n))}),c()}if(o&2){let a=t.$implicit,e=s();F("horizontalIndex",a)("isDrag",e.dragStarted)}}var Z=(()=>{let t=class t{constructor(){this.columns=Array.from(Array(7).keys()),this.x=0,this.y=0,this.dragStarted=!1}onMouseMove(e){console.log(e),e&&this.dragStarted&&(this.x=e.pageX-40,this.y=e.pageY-140,this.movable.nativeElement.style.left=this.x+"px",this.movable.nativeElement.style.top=this.y+"px")}onDragChange(e){console.log("tu",e),this.dragStarted=e}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h({type:t,selectors:[["app-calendar"]],viewQuery:function(n,i){if(n&1&&(y(j,5),y($,5)),n&2){let r;w(r=I())&&(i.calendar=r.first),w(r=I())&&(i.movable=r.first)}},hostBindings:function(n,i){n&1&&d("mousemove",function(Q){return i.onMouseMove(Q)})},standalone:!0,features:[x],decls:6,vars:2,consts:[[1,"calendar"],["calendar",""],[1,"movable"],["movable",""],[3,"horizontalIndex","isDrag","drag"],[3,"horizontalIndex","isDrag"]],template:function(n,i){n&1&&(l(0,"div",0,1),V(2,"div",2,3),v(4,q,1,2,"app-column",5,f),c()),n&2&&(u(2),T("hidden",!i.dragStarted),u(2),_(i.columns))},dependencies:[O,C],styles:[".calendar[_ngcontent-%COMP%]{display:flex;padding:1rem;margin:auto}.movable[_ngcontent-%COMP%]{opacity:.7;width:20px;height:10px;background:#e74c3c;border-radius:5px;position:absolute}.hidden[_ngcontent-%COMP%]{opacity:0}"]});let o=t;return o})();export{Z as CalendarComponent};
